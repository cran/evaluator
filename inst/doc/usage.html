<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">



<title>Evaluator Workflow</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>

</head>

<body>




<h1 class="title toc-ignore">Evaluator Workflow</h1>



<p>Starting from an Excel workbook, risk data is imported and run through a simulation model to estimate the expected losses for each scenario. The results of these simulations are used to create a detailed analysis and a formal risk report. A starter analysis report, overview dashboard, and a sample <a href="https://shiny.rstudio.com/">Shiny</a> application are all included in the toolkit.</p>
<p>Evaluator takes a domain-driven and framework-independent approach to strategic security risk analysis. It is compatible with ISO, COBIT, HITRUST CSF, PCI-DSS or any other model used for organizing an information security program. If you are able to describe the domains of your program and the controls and threat scenarios applicable to each domain, you will be able to use Evaluator!</p>
<div id="instructions" class="section level1">
<h1>Instructions</h1>
<p>While not required, a basic understanding of the OpenFAIR methodology and terminology is highly recommended.</p>
<p>Follow these steps to complete an analysis:</p>
<ol style="list-style-type: decimal">
<li>Define your controls and risk scenarios</li>
<li>Import and validate the scenarios</li>
<li>Encode the qualitative labels into quantiative parameters</li>
<li>Run the simulations</li>
<li>Summarize the simulation outputs</li>
<li>Analyze the results</li>
</ol>
<div id="define-your-controls-and-security-domains" class="section level2">
<h2>Define Your Controls and Security Domains</h2>
<p>Evaluator needs to know the domains of your risk universe. These are the major buckets into which you divide your program. Examples of domains include Physical Security, Strategy, Policy, Business Continuity/Disaster Recovery, and Technical Security. Out of the box, Evaluator comes with a demonstration model based upon the <a href="https://hitrustalliance.net/hitrust-csf/">HITRUST CSF</a>.</p>
<p>To start a fresh analysis using the default starter files, run <code>create_templates()</code>. This creates an <code>evaluator</code> directory in your home location with an <code>inputs</code> subdirectory containing a survey tool (Excel), a comma-seperated file defining the domains used in the survey tool, and a file defining the risk tolerance levels for your organization.</p>
<p>If you have a different domain structure (e.g. ISO2700x, NIST CSF, or COBIT), you will need to edit the <code>inputs/domains.csv</code> file to include the domain names and the domain IDs, and a shorthand abbreviation for the domain (such as POL for the Policy domain).</p>
<p>Indentifying the controls (or capabilities) and risk scenarios associated with each of your domains is critical to the final analysis. The elements are documented in the Excel workbook. The workbook includes one tab per domain, with each tab named after the domain IDs defined in the previous step. Each tab consists of a controls table and a threats table.</p>
<div id="controls-table" class="section level3">
<h3>Controls Table</h3>
<p>The key objectives of each domain are defined in the domain controls table. While the specific controls will be unique to each organization, the sample spreadsheet included in Evaluator may be used as a model. It is best to avoid copying every technical control from, for example, ISO 27001 or COBIT, since most control frameworks are too fine-grained to provide the high level overview that Evaluator delivers. In practice, 50 controls or less will usually be sufficient to describe most organizations. Each control must have a unique numeric ID and should be assigned a difficulty (DIFF) score that ranks the maturity (effectiveness) of the control on a CMM scale from Initial (lowest score) to Optimized (best of class).</p>
</div>
<div id="threats-table" class="section level3">
<h3>Threats Table</h3>
<p>The threats table consists of the potential loss scenarios described by each domain. Each scenario is made up of a descriptive field that describes who did what to whom, the threat community that executed the attack (e.g. external hacktivist, internal workforce member, third party vendor), how often the threat actor acts upon your assets (TEF), the strength with which they act against your assets (TCap), the losses incurred (LM) and a comma-separated list of the control IDs that prevent the scenario.</p>
</div>
</div>
<div id="optional-quick-start" class="section level2">
<h2>Optional Quick Start</h2>
<p>As an alternative to manually performing the subsequent steps steps in this document, a <code>run_analysis.R</code> script placed in the <code>~/evaluator</code> directory by the <code>create_templates()</code> function can be used to run all of these steps automatically. To use this bootstrap script, simply set a <code>base_dir</code> variable to the <code>~/evaluator</code> directory and <code>source</code> the script. The <code>run_analysis</code> script will generate a lot of console output. Performing at least a read through of the rest of this document to familiarize yourself with the steps being executed is strongly recommended.</p>
<p>Using the quick start (<code>run_analysis</code>) script:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">base_dir &lt;-<span class="st"> &quot;~/evaluator&quot;</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">source</span>(<span class="st">&quot;~/evaluator/run_analysis.R&quot;</span>)</a></code></pre></div>
</div>
<div id="import-and-validate-the-scenarios" class="section level2">
<h2>Import and Validate the Scenarios</h2>
<p>To extract the spreadsheet into data files for further analysis, run <code>import_spreadsheet()</code>. Evaluator will extract the data and save two comma seperated files in the <code>inputs</code> directory with the results.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">domains &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&quot;~/evaluator/inputs/domains.csv&quot;</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw">import_spreadsheet</span>(<span class="st">&quot;~/evaluator/inputs/survey.xlsx&quot;</span>, domains, <span class="dt">output_dir =</span> <span class="st">&quot;~/evaluator/inputs&quot;</span>)</a></code></pre></div>
<p>Afer importing, you are strongly encouraged to run <code>validate_scenarios()</code> to verify there are no data integrity issues. If there are errors detected, the validation process will abort and a message summarizing the problem is displayed. Correct the errors displayed, reimport, and repeat the validation process until there are no errors reported.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">qualitative_scenarios &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&quot;~/evaluator/inputs/qualitative_scenarios.csv&quot;</span>)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">mappings &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&quot;~/evaluator/inputs/qualitative_mappings.csv&quot;</span>)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">capabilities &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&quot;~/evaluator/inputs/capabilities.csv&quot;</span>)</a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="kw">validate_scenarios</span>(qualitative_scenarios, capabilities, domains, mappings)</a></code></pre></div>
</div>
<div id="encode-the-data" class="section level2">
<h2>Encode the Data</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">quantitative_scenarios &lt;-<span class="st"> </span><span class="kw">encode_scenarios</span>(qualitative_scenarios, </a>
<a class="sourceLine" id="cb4-2" data-line-number="2">                                           capabilities, mappings)</a></code></pre></div>
</div>
<div id="run-the-simulations" class="section level2">
<h2>Run the Simulations</h2>
<p>Once the quantitative scenarios are ready for simulation, run <code>run_simulations(quantitative_scenarios)</code>. By default, Evaluator puts each scenario through 10,000 individual simulated years, modelling how often the threat actors come into contact with your assets, the strength of the threat actors, the strength of your controls, and the losses involved in any situation where the threat strength exceeds your control strength. This simulation process is computationally intense. The sample data takes approximately 24 minutes to run on a 2016 MacBook Pro. A progress bar is displayed on the console while running.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">simulation_results &lt;-<span class="st"> </span><span class="kw">run_simulations</span>(quantitative_scenarios, </a>
<a class="sourceLine" id="cb5-2" data-line-number="2">                                      <span class="dt">simulation_count =</span> 100L)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="kw">save</span>(simulation_results, <span class="dt">file =</span> <span class="st">&quot;~/evaluator/results/simulation_results.rda&quot;</span>)</a></code></pre></div>
</div>
<div id="summarize-results" class="section level2">
<h2>Summarize Results</h2>
<p>The raw simulation results typically require summarization for the default reporting functions. These summarized data files, performed at both the per scenario and per domain level are in addition to the previously generated full results. An analyst can always access the full simulation results if desired.</p>
<p>In the following code block, Evaluator produces <code>scenario_summary.rda</code> and <code>domain_summary.rda</code> files for the reporting in the final section.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">summarize_to_disk</span>(<span class="dt">simulation_results =</span> simulation_results, <span class="dt">domains =</span> domains, </a>
<a class="sourceLine" id="cb6-2" data-line-number="2">                  <span class="dt">results_dir =</span> <span class="st">&quot;~/evaluator/results&quot;</span>)</a></code></pre></div>
</div>
<div id="analyze-the-results" class="section level2">
<h2>Analyze the Results</h2>
<p>Several analysis functions are provided, including a template for a technical risk report. The risk report can be generated via <code>generate_report()</code>. This creates a pre-populated risk report that identifies key scenarios and generates initial plots for the analyst to prepare a final report.</p>
<p>Other included report tools include <code>risk_dashboard()</code>, which produces a single-page static web dashboard view of all the scenarios and their results.</p>
<p>For interactive exploration, use <code>explore_scenarios()</code> to launch a local copy of the Scenario Explorer application. The Scenario Explorer app may be used to view information about the individual scenarios and provides a sample overview of the entire program.</p>
<p>For more in depth analysis, the following data files may be useful to exploration and analysis from either within R or with a R-compatible external business intelligence program such as Tableau:</p>
<table style="width:79%;">
<colgroup>
<col width="34%"></col>
<col width="44%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="left">Data File</th>
<th align="left">Purpose</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">simulation_results.rda</td>
<td align="left">Full details of each simulated scenario</td>
</tr>
<tr class="even">
<td align="left">scenario_summary.rda</td>
<td align="left">Simulation results, summarized at the scenario level</td>
</tr>
<tr class="odd">
<td align="left">domain_summary.rda</td>
<td align="left">Simulation results, summarized at the domain level</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="co"># Explorer</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="kw">explore_scenarios</span>(<span class="st">&quot;~/evaluator/inputs&quot;</span>, <span class="st">&quot;~/evaluator/results&quot;</span>)</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="co"># Risk Dashboard</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="kw">risk_dashboard</span>(<span class="st">&quot;~/evaluator/inputs&quot;</span>, <span class="st">&quot;~/evaluator/results&quot;</span>, </a>
<a class="sourceLine" id="cb7-6" data-line-number="6">               <span class="st">&quot;~/evaluator/risk_dashboard.html&quot;</span>)</a>
<a class="sourceLine" id="cb7-7" data-line-number="7"></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="co"># Sample Report</span></a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="kw">generate_report</span>(<span class="st">&quot;~/evaluator/inputs&quot;</span>, <span class="st">&quot;~/evaluator/results&quot;</span>, </a>
<a class="sourceLine" id="cb7-10" data-line-number="10">                <span class="st">&quot;~/evaluator/risk_report.html&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>rstudioapi<span class="op">::</span><span class="kw">viewer</span>()</a></code></pre></div>
<p>To view that same report as a Word document for editing, use <code>generate_report(&quot;~/evaluator/inputs&quot;, &quot;~/evaluator/results&quot;, &quot;~/evaluator/risk_report.docx&quot;, output_format = &quot;word_document&quot;)</code>.</p>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
